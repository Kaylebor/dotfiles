# Safely attempt to require gems.
# If they are missing (or hidden by Bundler), we catch the error and move on.
begin
  require 'rubygems' # Usually redundant in modern Ruby, but harmless
  require 'os'
  require 'active_support/all'
rescue LoadError => e
  # Optional: Print why it failed if you are curious, or just stay silent.
  # puts "Global .irbrc info: Could not load extra gems (#{e.message})"
end

# --- The Logic to Load Local Config ---

# Prevent infinite recursion if running from home dir
current_file = File.expand_path('.irbrc')
home_file    = File.expand_path('~/.irbrc')

if File.exist?('.irbrc') && current_file != home_file
  puts "Loading project-specific .irbrc..."
  load '.irbrc'
end
