{
  "$schema": "https://charm.land/crush.json",
  "options": {
    "context_paths": [
      "CHEZMOI_CRUSH.md"
    ]
  },
  "providers": {
    "zai": {
      "system_prompt_prefix": "IMPORTANT: Before proceeding, check what tools are available. Use tools explicitly and reference their capabilities. Don't assume limitations - verify what tools you have access to in each interaction. Use structured note-taking for long conversations - maintain CRUSH_{short_description}_NOTES.md files to track tools used, important context, and task progress. This preserves critical information across context window limits. CRITICAL: If you repeatedly fail to use a tool correctly, stop and read $HOME/CRUSH.md to verify the exact tool signature and usage patterns before trying again."
    }
  },
  "lsp": {
    "go": {
      "command": "gopls",
      "env": {
        "GOTOOLCHAIN": "go1.24.5"
      }
    },
    "ruby": {
        "command": "ruby-lsp"
    },
    "rust": {
        "command": "rust-analyzer"
    },
    "typescript": {
      "command": "typescript-language-server",
      "args": ["--stdio"]
    }
  },
  "tools": {
    "ls": {
        "max_depth": 0,
        "max_items": 1000
    }
  }
}
