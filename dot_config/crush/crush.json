{
  "$schema": "https://charm.land/crush.json",
  "options": {
    "context_paths": [
      "~/.config/crush/CRUSH.md",
      "CRUSH.md",
      "CRUSH_INDEX.md"
    ]
  },
  "providers": {
    "synthetic": {
      "system_prompt_prefix": "ðŸ”´ CRITICAL: You MUST close ALL thinking sections before responding to the user. DO NOT communicate inside thinking sections or use bash for messages."
    }
  },
  "lsp": {
    "go": {
      "command": "gopls",
      "root_markers": ["go.mod", "go.sum", ".git"],
      "filetypes": ["go", "mod"]
    },
    "ruby": {
        "command": "ruby-lsp",
        "root_markers": ["Gemfile", "Rakefile", "ruby.gemspec", ".git"],
        "filetypes": ["rb", "rbw", "gemspec", "rake"]
    },
    "rust": {
        "command": "rust-analyzer",
        "root_markers": ["Cargo.toml", "Cargo.lock", ".git"],
        "filetypes": ["rs"]
    },
    "javascript": {
      "command": "biome",
      "args": ["lsp-proxy"],
      "root_markers": ["biome.json", "package.json", ".git"],
      "filetypes": ["ts", "tsx", "js", "jsx", "json", "jsonc", "css"]
    },
    "lua": {
      "command": "lua-language-server",
      "args": ["--stdio"],
      "root_markers": [".luacheckrc", "lua", ".git"],
      "filetypes": ["lua"]
    },
    "sql": {
      "command": "sqls",
      "args": ["-stdio"],
      "root_markers": [".sqls.yml", ".git"],
      "filetypes": ["sql", "mysql", "pgsql"]
    },
    "elixir": {
      "command": "elixir-ls",
      "root_markers": ["mix.exs", ".git"],
      "filetypes": ["ex", "exs", "heex", "eex", "leex"]
    }
  },
  "mcp": {
    "docs": {
      "type": "http",
      "url": "https://mcp.context7.com/mcp",
      "timeout": 120,
      "disabled": false,
      "headers": {
        "CONTEXT7_API_KEY": "$(echo $CONTEXT7_API_KEY)"
      }
    }
  },
  "tools": {
    "ls": {
        "max_depth": 0,
        "max_items": 1000
    }
  }
}
