# yaml-language-server: $schema=https://carapace.sh/schemas/command.json
name: claude
description: Claude Code - AI coding assistant CLI
commands:
  - name: config
    description: Manage configuration (eg. claude config set -g theme dark)
  - name: mcp
    description: Configure and manage MCP servers
  - name: migrate-installer
    description: Migrate from global npm installation to local installation
  - name: setup-token
    description: Set up a long-lived authentication token (requires Claude subscription)
  - name: doctor
    description: Check the health of your Claude Code auto-updater
  - name: update
    description: Check for updates and install if available
  - name: install
    description: Install Claude Code native build
    flags:
      --target=: Specify version (stable, latest, or specific version)
    completion:
      flag:
        target: ["stable", "latest"]
flags:
  -d, --debug: Enable debug mode
  --verbose: Override verbose mode setting from config
  -p, --print: Print response and exit (useful for pipes)
  --output-format=: Output format (only works with --print)
  --input-format=: Input format (only works with --print)
  --mcp-debug: "[DEPRECATED. Use --debug instead] Enable MCP debug mode"
  --dangerously-skip-permissions: Bypass all permission checks
  --allowedTools=: Comma or space-separated list of tool names to allow
  --disallowedTools=: Comma or space-separated list of tool names to deny
  --mcp-config=: Load MCP servers from a JSON file or string
  --append-system-prompt=: Append a system prompt to the default system prompt
  --permission-mode=: Permission mode to use for the session
  -c, --continue: Continue the most recent conversation
  -r, --resume?: Resume a conversation - provide a session ID or interactively select
  --model=: Model for the current session
  --fallback-model=: Enable automatic fallback to specified model
  --add-dir=: Additional directories to allow tool access to
  --ide: Automatically connect to IDE on startup
  --strict-mcp-config: Only use MCP servers from --mcp-config
  --session-id=: Use a specific session ID for the conversation (UUID)
  -v, --version: Output the version number
  -h, --help: Display help for command
completion:
  flag:
    output-format: ["text", "json", "stream-json"]
    input-format: ["text", "stream-json"]
    permission-mode: ["acceptEdits", "bypassPermissions", "default", "plan"]
    model: ["sonnet", "opus", "haiku", "claude-3-5-sonnet-20241022", "claude-3-5-haiku-20241022", "claude-3-opus-20240229"]
    fallback-model: ["sonnet", "opus", "haiku", "claude-3-5-sonnet-20241022", "claude-3-5-haiku-20241022", "claude-3-opus-20240229"]
    add-dir: ["$directories"]